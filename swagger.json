{
  "swagger" : "2.0",
  "info" : {
    "description" : "Product definition management shall be defined as the collection of activities that manage all of the Level 3 information about the product required for manufacturing, including the product production rules. Product definition information is shared between product production rules, bill of material and bill of resources. The product production rules contain the information used to instruct a manufacturing operation how to produce a product. This may be called a work master (ISA-95 Part 4), general, site, or master recipe (ANSI/ISA-88.00.01 and IEC 61512-1 definitions), standard operating procedure (SOP), standard operating conditions (SOC), routing, or assembly steps based on the production strategy used. The product definition information is made available to other Level 3 functions and to Level 2 functions as required. Product definition management includes management of the distribution of product production rules. Some of the product production rules may exist in Level 2 and Level 1 equipment. When that is the case, downloads of this information shall be coordinated with other manufacturing operations management functions to avoid affecting production. This information may be included as part of operational commands when the download is part of a production execution management activity.",
    "version" : "1.0.0",
    "title" : "Definitions Management Material API",
    "contact" : {
      "email" : "mason.yarrick@bhp.com"
    },
    "license" : {
      "name" : "Apache 2.0",
      "url" : "http://www.apache.org/licenses/LICENSE-2.0.html"
    }
  },
  "tags" : [ {
    "name" : "admins",
    "description" : "Secured Admin-only calls"
  }, {
    "name" : "developers",
    "description" : "Operations available to regular developers"
  } ],
  "paths" : {
    "/materialClass/{id}" : {
      "get" : {
        "tags" : [ "developers" ],
        "summary" : "gets material classes",
        "operationId" : "getMaterialClass",
        "description" : "Gets material classes with specific IDs\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "path",
          "name" : "id",
          "description" : "Material Class ID",
          "required" : true,
          "type" : "string"
        }, {
          "in" : "query",
          "name" : "version",
          "description" : "The version of the spec to get the class from",
          "required" : false,
          "type" : "number"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/MaterialClass"
            }
          },
          "404" : {
            "description" : "Not found"
          }
        }
      },
      "delete" : {
        "tags" : [ "admins" ],
        "summary" : "deletes material classes",
        "operationId" : "deleteMaterialClass",
        "description" : "Deletes material classes with specific IDs\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "path",
          "name" : "id",
          "description" : "Material Class ID",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "201" : {
            "description" : "Deleted"
          },
          "404" : {
            "description" : "Not found"
          }
        }
      },
      "put" : {
        "tags" : [ "admins" ],
        "summary" : "updates material classes",
        "operationId" : "updateMaterialClass",
        "description" : "Updates material classes with specific IDs\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "path",
          "name" : "id",
          "description" : "Material Class ID",
          "required" : true,
          "type" : "string"
        }, {
          "in" : "body",
          "name" : "materialClass",
          "description" : "The material class to create.",
          "schema" : {
            "$ref" : "#/definitions/MaterialClass"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Updated"
          },
          "400" : {
            "description" : "Bad input parameter"
          }
        }
      }
    },
    "/materialClass" : {
      "get" : {
        "tags" : [ "developers" ],
        "summary" : "searches for material classes",
        "operationId" : "findMaterialClasses",
        "description" : "Searches for material classes with specific properties\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "query",
          "name" : "id",
          "description" : "the unique identifier of the material class to retrieve",
          "required" : false,
          "type" : "string"
        }, {
          "in" : "query",
          "name" : "hierarchyScopeId",
          "description" : "The hierarchy scope to retrieve material classes by",
          "required" : true,
          "type" : "string"
        }, {
          "in" : "query",
          "name" : "limit",
          "description" : "the number of results to return",
          "required" : false,
          "type" : "number"
        }, {
          "in" : "query",
          "name" : "version",
          "description" : "the version of the spec to retrieve the class for",
          "required" : false,
          "type" : "number"
        } ],
        "responses" : {
          "200" : {
            "description" : "search results matching criteria",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/MaterialClass"
              }
            }
          },
          "400" : {
            "description" : "Bad input parameter"
          }
        }
      },
      "post" : {
        "tags" : [ "admins" ],
        "summary" : "creates material classes",
        "operationId" : "createMaterialClass",
        "description" : "Create new items of material classes in the system\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "body",
          "name" : "materialClass",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/MaterialClass"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Created"
          },
          "400" : {
            "description" : "Bad input parameter"
          }
        }
      }
    },
    "/materialDefinition/{id}" : {
      "get" : {
        "tags" : [ "developers" ],
        "summary" : "gets material definitions",
        "operationId" : "getMaterialDefinition",
        "description" : "Gets material definitions with specific IDs\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "path",
          "name" : "id",
          "description" : "Material Definition ID",
          "required" : true,
          "type" : "string"
        }, {
          "in" : "query",
          "name" : "version",
          "description" : "The version of the spec to get the defintions for",
          "required" : false,
          "type" : "number"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/MaterialDefinition"
            }
          },
          "404" : {
            "description" : "Not found"
          }
        }
      },
      "delete" : {
        "tags" : [ "admins" ],
        "summary" : "deletes material definitions",
        "operationId" : "deleteMaterialDefinition",
        "description" : "Deletes material definitions with specific IDs\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "path",
          "name" : "id",
          "description" : "Material Definition ID",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "201" : {
            "description" : "Deleted"
          },
          "404" : {
            "description" : "Not found"
          }
        }
      },
      "put" : {
        "tags" : [ "admins" ],
        "summary" : "updates material definitions",
        "operationId" : "updateMaterialDefinition",
        "description" : "Updates material definitions with specific IDs\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "path",
          "name" : "id",
          "description" : "Material Definition ID",
          "required" : true,
          "type" : "string"
        }, {
          "in" : "body",
          "name" : "materialDefinition",
          "description" : "The material definition to update.",
          "schema" : {
            "$ref" : "#/definitions/MaterialDefinition"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Updated"
          },
          "400" : {
            "description" : "Bad input parameter"
          },
          "404" : {
            "description" : "Not found"
          }
        }
      }
    },
    "/materialDefinition" : {
      "get" : {
        "tags" : [ "developers" ],
        "summary" : "searches for material definitions",
        "operationId" : "findMaterialDefinitions",
        "description" : "Searches for material definitions with specific properties\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "query",
          "name" : "id",
          "description" : "the unique identifier of the material definition to retrieve",
          "required" : false,
          "type" : "string"
        }, {
          "in" : "query",
          "name" : "limit",
          "description" : "the number of results to return",
          "required" : false,
          "type" : "number"
        }, {
          "in" : "query",
          "name" : "version",
          "description" : "the version of the spec to retrieve the definitions for",
          "required" : false,
          "type" : "number"
        } ],
        "responses" : {
          "200" : {
            "description" : "search results matching criteria",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/MaterialDefinition"
              }
            }
          },
          "400" : {
            "description" : "bad input parameter"
          }
        }
      },
      "post" : {
        "tags" : [ "admins" ],
        "summary" : "creates material definitions",
        "operationId" : "createMaterialDefinition",
        "description" : "Create new items of material definitions in the system\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "body",
          "name" : "materialDefinition",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/MaterialDefinition"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Created"
          },
          "400" : {
            "description" : "Bad input parameter"
          }
        }
      }
    },
    "/materialLot/{id}" : {
      "get" : {
        "tags" : [ "developers" ],
        "summary" : "gets material lots",
        "operationId" : "getMaterialLot",
        "description" : "Gets material lots with specific IDs\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "path",
          "name" : "id",
          "description" : "Material Lot ID",
          "required" : true,
          "type" : "string"
        }, {
          "in" : "query",
          "name" : "version",
          "description" : "The version of the spec to retrieve the lot for.",
          "required" : false,
          "type" : "number"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "schema" : {
              "$ref" : "#/definitions/MaterialLot"
            }
          },
          "404" : {
            "description" : "Not found"
          }
        }
      },
      "delete" : {
        "tags" : [ "admins" ],
        "summary" : "deletes material lots",
        "operationId" : "deleteMaterialLot",
        "description" : "Delete existing lots of material from the system\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "path",
          "name" : "id",
          "description" : "Material Lot ID",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "201" : {
            "description" : "Deleted"
          },
          "404" : {
            "description" : "Not found"
          }
        }
      },
      "put" : {
        "tags" : [ "admins" ],
        "summary" : "updates material lots",
        "operationId" : "updateMaterialLot",
        "description" : "Update existing lots of material in the system\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "path",
          "name" : "id",
          "description" : "Material Lot ID",
          "required" : true,
          "type" : "string"
        }, {
          "in" : "body",
          "name" : "materialLot",
          "description" : "The new state of the material lot.",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/MaterialLot"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Updated"
          },
          "400" : {
            "description" : "Bad input parameter"
          }
        }
      }
    },
    "/materialLot" : {
      "get" : {
        "tags" : [ "developers" ],
        "summary" : "retrieves material lots",
        "operationId" : "searchMaterialLots",
        "description" : "By passing in the appropriate options, you can search for available material lots in the system\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "query",
          "name" : "id",
          "description" : "the unique identifier of the material lot to retrieve",
          "required" : false,
          "type" : "string"
        }, {
          "in" : "query",
          "name" : "hierarchyScopeId",
          "description" : "The hierarchy scope to retrieve material lots by",
          "required" : true,
          "type" : "string"
        }, {
          "in" : "query",
          "name" : "limit",
          "description" : "the number of results to return",
          "required" : false,
          "type" : "number"
        }, {
          "in" : "query",
          "name" : "version",
          "description" : "the version of the spec to get the lots for",
          "required" : false,
          "type" : "number"
        } ],
        "responses" : {
          "200" : {
            "description" : "search results matching criteria",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/MaterialLot"
              }
            }
          },
          "400" : {
            "description" : "Bad input parameter"
          }
        }
      },
      "post" : {
        "tags" : [ "admins" ],
        "summary" : "creates material",
        "operationId" : "createMaterial",
        "description" : "Create new lots of material in the system\n",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "body",
          "name" : "materialLot",
          "description" : "The Material Lot to create",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/MaterialLot"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Created"
          },
          "400" : {
            "description" : "Bad input parameter"
          }
        }
      }
    }
  },
  "definitions" : {
    "MaterialClass" : {
      "type" : "object",
      "description" : "A material class is a representation of groupings of material definitions for a definite purpose such as manufacturing operations definition, scheduling, capability and performance. A material class may be tested by the execution of a material test specification.",
      "required" : [ "id", "version", "hierarchyScopeId", "effectiveFrom", "effectiveTo" ],
      "properties" : {
        "id" : {
          "type" : "string",
          "description" : "A unique identification of a specific material class, within the scope of the information exchanged (production capability, production schedule, production performance, …) The ID shall be used in other parts of the model when the material class needs to be identified, such as the production capability for this material class, or a production response identifying the material class used.",
          "example" : "HIGH GRADE"
        },
        "version" : {
          "type" : "number",
          "description" : "The version number of this Material Class.",
          "example" : 1
        },
        "description" : {
          "type" : "string",
          "description" : "Additional information about the material class.",
          "example" : "High Grade Ore"
        },
        "parentClassId" : {
          "type" : "string",
          "description" : "The class that this Material Class belongs to.",
          "example" : "IN-SITU"
        },
        "effectiveFrom" : {
          "type" : "string",
          "description" : "The timestamp that this Material Class is effective from.",
          "example" : "201808151000"
        },
        "effectiveTo" : {
          "type" : "string",
          "description" : "The timestamp that this Material Class is effective to.",
          "example" : "201808151000"
        },
        "properties" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/MaterialClassProperty"
          }
        }
      }
    },
    "MaterialClassProperty" : {
      "type" : "object",
      "description" : "Properties of a material class shall be presented as material class properties. A material class shall be further characterized through zero or more material class properties. A material class property may be tested by the execution of a material test specification. Material class properties may contain nested material class properties. The material class properties often list the nominal, or standard, values for the material. A material property does not have to match a material class property.",
      "required" : [ "id", "value", "unitOfMeasure" ],
      "properties" : {
        "id" : {
          "type" : "string",
          "description" : "An identification of a specific material class property.",
          "example" : "Fe"
        },
        "description" : {
          "type" : "string",
          "description" : "Additional information about the material class property.",
          "example" : "Iron"
        },
        "value" : {
          "type" : "string",
          "description" : "The value, set of values, or range of the property.",
          "example" : "62"
        },
        "valueUnitOfMeasure" : {
          "type" : "string",
          "description" : "The unit of measure of the associated property value, if applicable.",
          "example" : "percentage"
        },
        "properties" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/MaterialClassProperty"
          }
        }
      }
    },
    "MaterialLot" : {
      "type" : "object",
      "description" : "A representation of a uniquely identified specific amount of material, either countable or weighable shall be named as a material lot. A material lot describes the planned or actual total quantity or amount of material available, its current state, and its specific property values. A material lot may be tested by the execution of a material test specification.",
      "required" : [ "id", "version", "hierarchyScopeId", "effectiveFrom", "effectiveTo" ],
      "properties" : {
        "id" : {
          "type" : "string",
          "description" : "A unique identification of a specific material lot, within the scope of the information exchanged (production capability, production schedule, production performance, …) The ID shall be used in other parts of the model when the material lot needs to be identified, such as the production capability for this material lot, or a production response identifying the material lot used.",
          "example" : "Block XYZ"
        },
        "version" : {
          "type" : "number",
          "description" : "The version number of this instance of the Material Lot.",
          "example" : 1
        },
        "status" : {
          "type" : "string",
          "description" : "Status of the material lot. For example, released, approved, blocked, in process, in quality check.",
          "example" : "In Process"
        },
        "materialClassId" : {
          "type" : "string",
          "example" : "In-Situ"
        },
        "materialDefinitionId" : {
          "type" : "string",
          "example" : "HG1"
        },
        "description" : {
          "type" : "string",
          "description" : "Additional information about the material lot.",
          "example" : "ER Crusher"
        },
        "storageLocationId" : {
          "type" : "string",
          "description" : "An identification of the storage location or a physical location of the material lot.",
          "example" : "ER-PC"
        },
        "quantity" : {
          "type" : "number",
          "description" : "The quantity of the material lot.",
          "example" : 5000
        },
        "quantityUnitOfMeasure" : {
          "type" : "string",
          "description" : "The unit of measure of the associated quantity, if applicable.",
          "example" : "Tonnes"
        },
        "effectiveFrom" : {
          "type" : "string",
          "description" : "The timestamp that this state of the Material Lot is effective from.",
          "example" : "201808151000"
        },
        "effectiveTo" : {
          "type" : "string",
          "description" : "The timestamp that this state of the Material Lot expires.",
          "example" : "201808151000"
        },
        "spatialDefinition" : {
          "type" : "array",
          "description" : "The location or footprint of this item.",
          "items" : {
            "$ref" : "#/definitions/SpatialDefinition"
          }
        },
        "properties" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/MaterialLotProperty"
          }
        }
      }
    },
    "MaterialLotProperty" : {
      "type" : "object",
      "description" : "Each material can have unique values for zero or more material lot properties, such as a specific pH value for the specific lot of material, or a specific density for the lot of material. A material lot property may be tested by the execution of a material test specification with results exchanged in a QA test specification result. Material lot properties may contain nested material lot properties.",
      "required" : [ "id", "description", "value", "valueUnitOfMeasure" ],
      "properties" : {
        "id" : {
          "type" : "string",
          "description" : "An identification of a specific material class property.",
          "example" : "DigRate"
        },
        "description" : {
          "type" : "string",
          "description" : "Additional information about the material class property.",
          "example" : "Dig Rate"
        },
        "value" : {
          "type" : "string",
          "description" : "The value, set of values, or range of the property.",
          "example" : 3600
        },
        "valueUnitOfMeasure" : {
          "type" : "string",
          "description" : "The unit of measure of the associated property value, if applicable.",
          "example" : "Tonnes/Hour"
        }
      }
    },
    "MaterialDefinition" : {
      "type" : "object",
      "description" : "A representation of goods with similar name characteristics for the purpose of manufacturing operations definition, scheduling, capability and performance shall be shown as a material definition. A material definition may be tested by the execution of a material test specification. Any material lot shall be associated with one material definition.",
      "required" : [ "id", "version" ],
      "properties" : {
        "id" : {
          "type" : "string",
          "description" : "A unique identification of a specific material definition, within the scope of the information exchanged (production capability, production schedule, production performance, …) The ID shall be used in other parts of the model when the material definition needs to be identified, such as the production capability for this material definition, or a production response identifying the material definition used.",
          "example" : "HG1"
        },
        "version" : {
          "type" : "number",
          "description" : "The version of this Material Definition described in this message.",
          "example" : 1
        },
        "description" : {
          "type" : "string",
          "description" : "Additional information about the material definition.",
          "example" : "High Grade 1"
        },
        "materialClassId" : {
          "type" : "string",
          "description" : "The Material Class that this definition describes.",
          "example" : "ER-HG"
        },
        "parentDefinitionId" : {
          "type" : "string",
          "description" : "The Material Definition that this definition belongs to.",
          "example" : "ER-DEF-HG"
        },
        "effectiveFrom" : {
          "type" : "string",
          "description" : "The timestamp that this Material Definition is applicable from.",
          "example" : "201808151000"
        },
        "effectiveTo" : {
          "type" : "string",
          "description" : "The timestamp that this Material Definition is applicable to.",
          "example" : "201808151000"
        },
        "properties" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/MaterialDefinitionProperty"
          }
        }
      }
    },
    "MaterialDefinitionProperty" : {
      "type" : "object",
      "description" : "Properties of a material definition shall be defined as material definition properties. A material definition shall be further characterized through zero or more material definition properties. A material definition property may be tested by the execution of a material test specification. Material definition properties may contain nested material definition properties.",
      "required" : [ "id", "value", "unitOfMeasure" ],
      "properties" : {
        "id" : {
          "type" : "string",
          "description" : "An identification of the specific material definition property.",
          "example" : "Fe"
        },
        "description" : {
          "type" : "string",
          "description" : "Additional information about the material definition property.",
          "example" : "Iron"
        },
        "value" : {
          "type" : "string",
          "description" : "The value, set of values, or range of the property.",
          "example" : "62"
        },
        "valueUnitOfMeasure" : {
          "type" : "string",
          "description" : "The unit of measure of the associated property value, if applicable.",
          "example" : "percentage"
        },
        "properties" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/MaterialDefinitionProperty"
          }
        }
      }
    },
    "SpatialDefinition" : {
      "type" : "object",
      "description" : "The spatial definition provides a means of communicating 0-dimensional point, 1-dimensional line, or 2-dimensional shape or 3-dimensional solid geospatial location data for planning/scheduling, actuals, resources, and analytics. Spatial definition identifies a value and the pre-defined coordinate reference system using following attributes a)  value; b)  format; c)  spatial reference identifier (SRID); and d)  SRID authority. A fully qualified spatial definition exchange has all 4 attributes as a minimum.  In some information exchanges, sending and receiving applications may have a specified agreement on format, SRID, and SRID authority. Spatial definition is distinct from, and separate to storage location and physical location. Storage location attribute is defined for material lots and material sublots as a non-spatial definition of location. The physical location attribute logically identifies a “place” which is actual physical location of the physical asset.",
      "properties" : {
        "value" : {
          "type" : "string",
          "description" : "A string serialization EXAMPLE 1 UN/CEFACT CCTS: TextType) of the geospatial information in the format indicated in the format attribute.",
          "example" : "POLYGON ( (-2594646.99104 11815676.18456, -2594645.14848 11815683.08856, -2594646.99104 11815676.18456 ) )"
        },
        "format" : {
          "type" : "string",
          "description" : "An enumerator that determines the format of the value attribute.",
          "example" : "WKT"
        },
        "srid" : {
          "type" : "string",
          "description" : "SRID is the Spatial Reference Identifier which identifies the coordinate reference system to identify a pre-defined coordinate reference system (pre-configured into communication systems). An identifier from the SRID Authority.",
          "example" : "6283 (Geocentric Datum of Australia 1994)"
        },
        "sridAuthority" : {
          "type" : "string",
          "description" : "The SRID authority identifies the authority that defines the coordinate reference system identified by the SRID. EXAMPLE 2 EPSG (see http://www.epsg-registry.org/). An organization may choose to define its own SRIDs. EXAMPLE 3 Reference its own authority.",
          "example" : "EPSG"
        }
      }
    }
  },
  "host" : "virtserver.swaggerhub.com",
  "schemes" : [ "https" ],
  "basePath" : "/BHP_TECH_SI/DefinitionsManagement_Material/1.0.0"
}